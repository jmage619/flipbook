#!/usr/bin/env python3

import sys
from PyQt5.QtWidgets import QApplication
from PyQt5.QtWidgets import QWidget
from PyQt5.QtGui import QPixmap
from PyQt5.QtGui import QPainter
from PyQt5.QtCore import QTimer
from PyQt5.QtCore import QRectF
from PyQt5.QtCore import Qt
from PyQt5.QtSvg import QSvgRenderer

class Window(QWidget):
  def __init__(self):
    super().__init__()

    self.index = 0
    #self.img = QPixmap("steve.png")
    renderer = QSvgRenderer("steve.svg", self)
    print(renderer.defaultSize())
    self.img = QPixmap(renderer.defaultSize())
    self.img.fill(Qt.transparent)
    painter = QPainter(self.img)
    renderer.render(painter, QRectF(self.img.rect()))
    self.setGeometry(0, 0, 500, 300)
    self.setWindowTitle("Fuck")

    timer = QTimer(self)
    timer.timeout.connect(self.incAndUpdate)
    timer.start(100)

  def paintEvent(self, evt):
    painter = QPainter(self)
    painter.drawPixmap(0, 0, self.img, self.index * 80, 0, 80, 80)

  def incAndUpdate(self):
    if self.index == 3:
      self.index = 0
    else:
      self.index += 1

    self.update()

if __name__ == '__main__':
  app = QApplication(sys.argv)
  window = Window()

  window.show()
  sys.exit(app.exec_())
